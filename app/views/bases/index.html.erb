<% provide(:title, 'All Bases')%>
<h1>拠点一覧</h1>

<div class="row">
  <div class="col-md-10 col-md-offset-1">
    <table class="table table-bordered table-condensed" id="table-bases" %>
      <thead>
        <tr>
          <th></th>
          <th></th>
          <th>拠点番号</th>
          <th>拠点名</th>
          <th>拠点種類</th>
        </tr>
      </thead>
      <% @bases.each do |base| %>
        <tbody>
          <tr>
            <td>            
              <button type="button" class="btn btn-primary btn-md" data-toggle="modal" data-target="#flame">修正</button>
                <!-- モーダル:モーダルの枠部分 -->
                <!-- idとトリガーと紐付け。 fadeでモーダルをフェードインさせます。 -->
                <div id="flame" class="modal fade" role="dialog">
                <!-- モーダルの適切な幅とマージンを設定 -->
                <div class="modal-dialog">
                  <!-- モーダルコンテンツ:モーダルに表示させる内容-->
                  <div class="modal-content">
                    <!-- モーダルコンテンツのヘッダー部分-->
                    <div class="modal-header">
                      <h1 class="modal-title">拠点の編集</h1>
                      <!-- &timesは「×ボタン」の表示-->        
                      <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>
                    <div class="modal-body">
                      <%= render 'edit_base' %>>
                    </div>                    
                  </div>
                </div>
                </div>                        
            </td>
            <td>
              <%= link_to "削除", @base, method: :delete,
                  data: { confirm: "削除してもよろしいですか？" },
                  class: "btn btn-primary" %>              
            </td>
            <td><%= @base.id %></td>
            <td><%= @base.branch %></td>
            <td>出勤</td>
          </tr>
          <tr>
            <td colspan="5">      
              <div class="panel panel-default">
                <div class="panel-heading"><button type="button" class="btn btn-primary btn-md" data-toggle="modal" data-target="#flame1">拠点情報追加</button>              
                  <div id="flame1" class="modal fade" role="dialog">
                    <!-- モーダルの適切な幅とマージンを設定 -->
                    <div class="modal-dialog">
                      <!-- モーダルコンテンツ:モーダルに表示させる内容-->
                      <div class="modal-content">
                        <!-- モーダルコンテンツのヘッダー部分-->
                        <div class="modal-header">
                          <h1 class="modal-title">拠点情報の追加</h1>
                          <!-- &timesは「×ボタン」の表示-->
                          <button type="button" class="close" data-dismiss="modal">&times;</button>
                        </div>
                        <div class="modal-body">
                          <%= render 'new' %>>                   
                        </div>                  
                      </div>
                    </div>
                  </div>                  
                </div>
              </div>
            </td>           
          </tr>
        </tbody>
      <% end %>
    </table>
  </div>
</div>

<!--モーダルウインドウ表示-->
<div id="edit-base" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true"></div>